(()=>{var t={668:t=>{t.exports=function(t){return atob(t)}},545:t=>{"use strict";var n={};t.exports=function(t){if("undefined"==typeof window)return null;var e=window.OfflineAudioContext||window.webkitOfflineAudioContext,r=window.AudioContext||window.webkitAudioContext;if(!r)return null;"number"==typeof t&&(t={sampleRate:t});var i=t&&t.sampleRate;if(t&&t.offline)return e?new e(t.channels||2,t.length,i||44100):null;var a=n[i];if(a)return a;try{a=new r(t)}catch(t){a=new r}return n[a.sampleRate]=n[i]=a,a}},433:(t,n,e)=>{"use strict";const r=e(545),i=e(284);t.exports=function t(n,e,a){e instanceof Function&&(a=e,e={}),e||(e={});let s=e.context||r();return n instanceof Blob&&(n=new File([n],"decode")),n instanceof File?new Promise(((r,i)=>{try{let i=new FileReader;i.readAsArrayBuffer(n),i.onload=()=>r(t(i.result,e,a))}catch(t){i(t)}})):(n instanceof ArrayBuffer||(n=i(n)),s.decodeAudioData(n.slice(),(t=>{a&&a(null,t)}),(t=>{a&&a(t)})))}},823:t=>{t.exports=function(t){switch(t){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},582:(t,n,e)=>{var r=e(823);t.exports=function(t,n,e){if(!t)throw new TypeError("must specify data as first parameter");if(e=0|+(e||0),Array.isArray(t)&&t[0]&&"number"==typeof t[0][0]){var i,a,s,o,l=t[0].length,_=t.length*l;n&&"string"!=typeof n||(n=new(r(n||"float32"))(_+e));var u=n.length-e;if(_!==u)throw new Error("source length "+_+" ("+l+"x"+t.length+") does not match destination length "+u);for(i=0,s=e;i<t.length;i++)for(a=0;a<l;a++)n[s++]=null===t[i][a]?NaN:t[i][a]}else if(n&&"string"!=typeof n)n.set(t,e);else{var f=r(n||"float32");if(Array.isArray(t)||"array"===n)for(i=0,s=e,o=(n=new f(t.length+e)).length;s<o;s++,i++)n[s]=null===t[i]?NaN:t[i];else 0===e?n=new f(t):(n=new f(t.length+e)).set(t,e)}return n}},648:function(t,n){!function(e){"use strict";function r(t,n){if(t instanceof Boolean||"boolean"==typeof t)return!1;if(n instanceof Object||(n={}),n.hasOwnProperty("allowBlank")&&!n.allowBlank&&""===t)return!1;var e="(?:[A-Za-z0-9+\\/]{4})*(?:[A-Za-z0-9+\\/]{2}==|[A-Za-z0-9+/]{3}=)?";return n.mime&&(e="(data:\\w+\\/[a-zA-Z\\+\\-\\.]+;base64,)?"+e),!1===n.paddingRequired&&(e="(?:[A-Za-z0-9+\\/]{4})*(?:[A-Za-z0-9+\\/]{2}(==)?|[A-Za-z0-9+\\/]{3}=?)?"),new RegExp("^"+e+"$","gi").test(t)}t.exports&&(n=t.exports=r),n.isBase64=r}()},179:(t,n,e)=>{"use strict";e.r(n)},985:(t,n,e)=>{"use strict";e.r(n)},634:(t,n,e)=>{"use strict";var r=e(668),i=e(648);function a(t){for(var n=new Uint8Array(t.length),e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n.buffer}t.exports=function(t){if("string"!=typeof t)throw Error("Argument should be a string");return/^data\:/i.test(t)?function(t){var n=(t=t.replace(/\r?\n/g,"")).indexOf(",");if(-1===n||n<=4)throw new TypeError("malformed data-URI");for(var e=t.substring(5,n).split(";"),i=!1,s="US-ASCII",o=0;o<e.length;o++)"base64"==e[o]?i=!0:0==e[o].indexOf("charset=")&&(s=e[o].substring(8));var l=unescape(t.substring(n+1));i&&(l=r(l));var _=a(l);return _.type=e[0]||"text/plain",_.charset=s,_}(t):(i(t)&&(t=r(t)),a(t))}},284:(t,n,e)=>{"use strict";var r=e(634),i=e(582);t.exports=function t(n){if(!n)return new ArrayBuffer;if(n instanceof ArrayBuffer)return n;if("string"==typeof n)return r(n);if(ArrayBuffer.isView(n))return null!=n.byteOffset?n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength):n.buffer;if(n.buffer||n.data||n._data)return t(n.buffer||n.data||n._data);if(null!=n.length)for(var e=0;e<n.length;e++)if(null!=n[e].length){n=i(n);break}return new Uint8Array(null!=n.length?n:[n]).buffer}},364:(t,n,e)=>{"use strict";var r,i=null;t.exports={initialize:async function(t){return r=await e(890)(),(i=new r.Decoder(t)).initialize()},align:async function(t,n){i.config.get("samprate")!=t.sampleRate&&(i.config.set("samprate",t.sampleRate),await i.reinitialize_audio());const e=[];let r=0;for(const t of n.trim().split(/\s+/)){if(null===i.lookup_word(t))throw new Error("Word '"+t+"' is not in the dictionary");e.push({from:r,to:r+1,word:t,prob:1}),r++}const a=i.create_fsg(n,0,r,e);return await i.set_fsg(a),a.delete(),await i.start(),await i.process(t.channelData[0],!0),await i.stop(),i.get_hypseg()}}},925:t=>{t.exports=__dirname},890:(t,n,e)=>{var r,i=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(r=r||__filename),function(t){var n,i;(t=void 0!==(t=t||{})?t:{}).ready=new Promise((function(t,e){n=t,i=e}));const a="object"==typeof window||"function"==typeof importScripts;void 0===t.defaultModel&&(t.defaultModel="en-us"),void 0===t.modelBase&&(t.modelBase="/model/");class s{constructor(n){if(this.cmd_ln=t._cmd_ln_parse_r(0,t._ps_args(),0,0,0),void 0===n){if(null===t.defaultModel)return;n={hmm:t.get_model_path(t.defaultModel)}}else null!==t.defaultModel&&("hmm"in n||(n.hmm=t.get_model_path(t.defaultModel)));for(const t in n)this.set(t,n[t])}delete(){this.cmd_ln&&t._cmd_ln_free_r(this.cmd_ln),this.cmd_ln=0}normalize_key(t){if(t.length>0){if("_"==t[0])return t;if("-"==t[0]){const n="_"+t.substr(1);return this.has(n)?n:t}{const n="_"+t;if(this.has(n))return n;const e="-"+t;return this.has(e)?e:t}}return""}normalize_ckey(t){const n=P(t);return 0==n.length?n:"-"==n[0]||"_"==n[0]?n.substr(1):n}set(n,e){const r=L(this.normalize_key(n)),i=t._cmd_ln_type_r(this.cmd_ln,r);if(0==i)throw new ReferenceError("Unknown cmd_ln parameter "+n);if(8&i){const n=L(e);t._cmd_ln_set_str_r(this.cmd_ln,r,n)}else if(4&i)t._cmd_ln_set_float_r(this.cmd_ln,r,e);else{if(!(18&i))return!1;t._cmd_ln_set_int_r(this.cmd_ln,r,e)}return!0}get(n){const e=L(this.normalize_key(n)),r=t._cmd_ln_type_r(this.cmd_ln,e);if(0==r)throw new ReferenceError("Unknown cmd_ln parameter "+n);if(8&r){const n=t._cmd_ln_str_r(this.cmd_ln,e);return 0==n?null:P(n)}if(4&r)return t._cmd_ln_float_r(this.cmd_ln,e);if(2&r)return t._cmd_ln_int_r(this.cmd_ln,e);if(16&r)return Boolean(t._cmd_ln_int_r(this.cmd_ln,e));throw new TypeError("Unsupported type "+r+" for parameter"+n)}model_file_path(t,n){const e=this.get(t);if(null!=e)return e;const r=this.get("hmm");if(null==r)throw new Error("Could not get "+t+" from config or model directory");return r+"/"+n}has(n){const e=L(n);return t._cmd_ln_exists_r(this.cmd_ln,e)}*[Symbol.iterator](){let n=t._cmd_ln_hash_iter(this.cmd_ln);const e=new Set;for(;0!=n;){const r=t._hash_iter_key(n),i=this.normalize_ckey(r);e.has(i)||(e.add(i),n=t._hash_table_iter_next(n),yield i)}}}async function o(n){let r;if(a){const t=await fetch(n);if(!t.ok)throw new Error("Failed to fetch "+n+" :"+t.statusText);{const n=await t.blob(),e=await n.arrayBuffer();r=new Uint8Array(e)}}else{const t=e(299),i=await t.readFile(n);r=new Uint8Array(i.buffer)}const i=r.length+1,s=t._malloc(i);if(0==s)throw new Error("Failed to allocate "+i+" bytes for "+n);return H(r,s),j[s+i]=0,t._s3file_init(s,i-1)}t.get_model_path=function(n){if(a)return t.modelBase+n;{const t=e(925);return e(395).join(t,n)}},t.Config=s,t.Decoder=class{constructor(n){if(this.config=n&&"object"==typeof n&&"cmd_ln"in n?n:new t.Config(...arguments),this.initialized=!1,this.ps=t._ps_init(0),0==this.ps)throw new Error("Failed to construct Decoder")}async initialize(n){if(0==this.ps)throw new Error("Decoder was somehow not constructed (ps==0)");void 0!==n&&(this.config&&this.config.delete(),this.config="object"==typeof n&&"cmd_ln"in n?n:new t.Config(...arguments)),await this.init_config(),await this.init_fe(),await this.init_feat(),await this.init_acmod(),await this.load_acmod_files(),await this.init_dict(),await this.init_grammar(),this.initialized=!0}async init_config(){await this.init_featparams();let n=t._ps_init_config(this.ps,this.config.cmd_ln);if(n<0)throw new Error("Failed to initialize basic configuration");if(n=t._ps_init_cleanup(this.ps),n<0)throw new Error("Failed to clean up decoder internals")}async init_featparams(){const t=this.config.model_file_path("featparams","feat.params");for await(const n of async function*(t){let n;if(a){const e=await fetch(t);if(!e.ok)throw new Error("Failed to fetch "+t+" :"+e.statusText);n=await e.text()}else{const r=e(299);n=await r.readFile(t,{encoding:"utf8"})}const r=/^.*$/gm,i=/"([^"]*)"|'([^'])'|(\S+)/g;let s=null;for(const t of n.matchAll(r)){const n=t[0].trim();for(const t of n.matchAll(i)){const n=t[1]??t[2]??t[3];if("#"==n)break;null!==s?(yield[s,n],s=null):s=n}}if(null!==s)throw new Error("Odd number of arguments in "+t)}(t))this.config.has(n[0])&&this.config.set(n[0],n[1])}async init_fe(){if(0==t._ps_init_fe(this.ps))throw new Error("Failed to initialize frontend")}async init_feat(){let n;try{const e=this.config.model_file_path("lda","feature_transform"),r=await o(e);n=t._ps_init_feat_s3file(this.ps,r)}catch(e){n=t._ps_init_feat_s3file(this.ps,0)}if(0==n)throw new Error("Failed to initialize feature module")}async init_acmod(){if(0==t._ps_init_acmod_pre(this.ps))throw new Error("Failed to initialize acoustic model")}async load_acmod_files(){const n=this.config.model_file_path("mdef","mdef.bin");await this.load_mdef(n);const e=this.config.model_file_path("tmat","transition_matrices");await this.load_tmat(e);const r=this.config.model_file_path("mean","means"),i=this.config.model_file_path("var","variances"),a=this.config.model_file_path("sendump","sendump"),s=this.config.model_file_path("mixw","mixture_weights");if(await this.load_gmm(r,i,a,s),t._ps_init_acmod_post(this.ps)<0)throw new Error("Failed to initialize acoustic scoring")}async load_mdef(n){const e=await o(n),r=t._bin_mdef_read_s3file(e);if(t._s3file_free(e),0==r)throw new Error("Failed to read mdef");t._set_mdef(this.ps,r)}async load_tmat(n){const e=await o(n),r=t._ps_get_logmath(this.ps),i=this.config.get("tmatfloor"),a=t._tmat_init_s3file(e,r,i);if(t._s3file_free(e),0==a)throw new Error("Failed to read tmat");t._set_tmat(this.ps,a)}async load_gmm(n,e,r,i){const a=await o(n),s=await o(e);var l,_;try{l=await o(r),_=0}catch(t){l=0,_=await o(i)}if(t._load_gmm(this.ps,a,s,_,l)<0)throw new Error("Failed to load GMM parameters")}async init_dict(){const n=this.config.model_file_path("dict","dict.txt"),e=await o(n);let r;try{const t=this.config.model_file_path("fdict","noisedict");r=await o(t)}catch(t){r=0}if(0==t._ps_init_dict_s3file(this.ps,e,r))throw new Error("Failed to initialize dictionaries")}async init_grammar(){let n=0,e=0;const r=this.config.get("jsgf");null!=r&&(e=await o(r));const i=this.config.get("fsg");if(null!=i&&(n=await o(i)),(n||e)&&t._ps_init_grammar_s3file(this.ps,n,e)<0)throw new Error("Failed to initialize grammar")}assert_initialized(){if(!this.initialized)throw new Error("Decoder not yet initialized")}async reinitialize_audio(){this.assert_initialized(),t._ps_reinit_fe(this.ps,0)}delete(){this.config&&this.config.delete(),this.ps&&t._ps_free(this.ps),this.ps=0}async start(){if(this.assert_initialized(),t._ps_start_utt(this.ps)<0)throw new Error("Failed to start utterance processing")}async stop(){if(this.assert_initialized(),t._ps_end_utt(this.ps)<0)throw new Error("Failed to stop utterance processing")}async process(n,e=!1,r=!1){this.assert_initialized();const i=n.length*n.BYTES_PER_ELEMENT,a=t._malloc(i);H(new Uint8Array(n.buffer),a);const s=t._ps_process_float32(this.ps,a,i/4,e,r);if(t._free(a),s<0)throw new Error("Utterance processing failed");return s}get_hyp(){return this.assert_initialized(),P(t._ps_get_hyp(this.ps,0))}get_hypseg(){this.assert_initialized();let n=t._ps_seg_iter(this.ps);const e=t._ps_get_config(this.ps),r=t._cmd_ln_int_r(e,L("-frate")),i=[];for(;0!=n;){const e=pt(8);t._ps_seg_frames(n,e,e+4);const a=z(e,"i32"),s=z(e+4,"i32"),o={word:S("ps_seg_word","string",["number"],[n]),start:a/r,end:s/r};i.push(o),n=t._ps_seg_next(n)}return i}lookup_word(n){this.assert_initialized();const e=L(n),r=t._ps_lookup_word(this.ps,e);return 0==r?null:P(r)}async add_word(n,e,r=!0){this.assert_initialized();const i=L(n),a=L(e),s=t._ps_add_word(this.ps,i,a,r);if(s<0)throw new Error("Failed to add word "+n+" with pronunciation "+e+" to the dictionary.");return s}create_fsg(n,e,r,i){this.assert_initialized();const a=t._ps_get_logmath(this.ps),s=t._ps_get_config(this.ps),o=t._cmd_ln_float_r(s,L("-lw"));let l=0;for(const t of i)l=Math.max(l,t.from,t.to);l++;const _=S("fsg_model_init","number",["string","number","number","number"],[n,a,o,l]);t._fsg_set_states(_,e,r);for(const n of i){let e=0;if("prob"in n&&(e=t._logmath_log(a,n.prob)),"word"in n){const r=S("fsg_model_word_add","number",["number","string"],[_,n.word]);if(-1==r)return t._fsg_model_free(_),0;t._fsg_model_trans_add(_,n.from,n.to,e,r)}else t._fsg_model_null_trans_add(_,n.from,n.to,e)}return{fsg:_,delete(){t._fsg_model_free(this.fsg),this.fsg=0}}}parse_jsgf(n,e=null){this.assert_initialized();const r=t._ps_get_logmath(this.ps),i=t._ps_get_config(this.ps),a=t._cmd_ln_float_r(i,L("-lw")),s=L(n),o=t._jsgf_parse_string(s,0);if(0==o)throw new Error("Failed to parse JSGF");let l;if(null!==e){const n=L(e);if(l=t._jsgf_get_rule(o,n),0==l)throw new Error("Failed to find top rule "+e)}else if(l=t._jsgf_get_public_rule(o),0==l)throw new Error("No public rules found in JSGF");const _=t._jsgf_build_fsg(o,l,r,a);return t._jsgf_grammar_free(o),{fsg:_,delete(){t._fsg_model_free(this.fsg),this.fsg=0}}}async set_fsg(n){if(this.assert_initialized(),0!=t._ps_set_fsg(this.ps,"_default",n.fsg))throw new Error("Failed to set FSG in decoder")}};var l,_,u,f,c,p,d=Object.assign({},t),m=[],g="./this.program",h=(t,n)=>{throw n},y="object"==typeof window,w="function"==typeof importScripts,v="";"object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node?(v=w?e(395).dirname(v)+"/":__dirname+"/",p=()=>{c||(f=e(762),c=e(395))},l=function(t,n){return p(),t=c.normalize(t),f.readFileSync(t,n?void 0:"utf8")},u=t=>{var n=l(t,!0);return n.buffer||(n=new Uint8Array(n)),n},_=(t,n,e)=>{p(),t=c.normalize(t),f.readFile(t,(function(t,r){t?e(t):n(r.buffer)}))},process.argv.length>1&&(g=process.argv[1].replace(/\\/g,"/")),m=process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof dt))throw t})),process.on("unhandledRejection",(function(t){throw t})),h=(t,n)=>{if(V())throw process.exitCode=t,n;var e;(e=n)instanceof dt||E("exiting due to exception: "+e),process.exit(t)},t.inspect=function(){return"[Emscripten Module object]"}):(y||w)&&(w?v=self.location.href:"undefined"!=typeof document&&document.currentScript&&(v=document.currentScript.src),r&&(v=r),v=0!==v.indexOf("blob:")?v.substr(0,v.replace(/[?#].*/,"").lastIndexOf("/")+1):"",l=t=>{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.send(null),n.responseText},w&&(u=t=>{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),_=(t,n,e)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?n(r.response):e()},r.onerror=e,r.send(null)});var b,A=t.print||console.log.bind(console),E=t.printErr||console.warn.bind(console);Object.assign(t,d),d=null,t.arguments&&(m=t.arguments),t.thisProgram&&(g=t.thisProgram),t.quit&&(h=t.quit),t.wasmBinary&&(b=t.wasmBinary);var x,R=t.noExitRuntime||!0;function z(t,n="i8",e){switch("*"===n.charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":return j[t>>0];case"i16":return C[t>>1];case"i32":case"i64":return I[t>>2];case"float":return U[t>>2];case"double":return Number(B[t>>3]);default:Q("invalid type for getValue: "+n)}return null}"object"!=typeof WebAssembly&&Q("no native wasm support detected");var F=!1;function S(n,e,r,i,a){var s={string:function(t){var n=0;if(null!=t&&0!==t){var e=1+(t.length<<2);!function(t,n,e){D(t,T,n,e)}(t,n=pt(e),e)}return n},array:function(t){var n=pt(t.length);return H(t,n),n}},o=function(n){return t["_"+n]}(n),l=[],_=0;if(i)for(var u=0;u<i.length;u++){var f=s[r[u]];f?(0===_&&(_=ft()),l[u]=f(i[u])):l[u]=i[u]}var c=o.apply(null,l);return function(t){return 0!==_&&ct(_),function(t){return"string"===e?P(t):"boolean"===e?Boolean(t):t}(t)}(c)}var k,j,T,C,I,U,B,M="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function O(t,n,e){for(var r=n+e,i=n;t[i]&&!(i>=r);)++i;if(i-n>16&&t.buffer&&M)return M.decode(t.subarray(n,i));for(var a="";n<i;){var s=t[n++];if(128&s){var o=63&t[n++];if(192!=(224&s)){var l=63&t[n++];if((s=224==(240&s)?(15&s)<<12|o<<6|l:(7&s)<<18|o<<12|l<<6|63&t[n++])<65536)a+=String.fromCharCode(s);else{var _=s-65536;a+=String.fromCharCode(55296|_>>10,56320|1023&_)}}else a+=String.fromCharCode((31&s)<<6|o)}else a+=String.fromCharCode(s)}return a}function P(t,n){return t?O(T,t,n):""}function D(t,n,e,r){if(!(r>0))return 0;for(var i=e,a=e+r-1,s=0;s<t.length;++s){var o=t.charCodeAt(s);if(o>=55296&&o<=57343&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++s)),o<=127){if(e>=a)break;n[e++]=o}else if(o<=2047){if(e+1>=a)break;n[e++]=192|o>>6,n[e++]=128|63&o}else if(o<=65535){if(e+2>=a)break;n[e++]=224|o>>12,n[e++]=128|o>>6&63,n[e++]=128|63&o}else{if(e+3>=a)break;n[e++]=240|o>>18,n[e++]=128|o>>12&63,n[e++]=128|o>>6&63,n[e++]=128|63&o}}return n[e]=0,e-i}function L(t){var n=function(t){for(var n=0,e=0;e<t.length;++e){var r=t.charCodeAt(e);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&t.charCodeAt(++e)),r<=127?++n:n+=r<=2047?2:r<=65535?3:4}return n}(t)+1,e=pt(n);return D(t,j,e,n),e}function H(t,n){j.set(t,n)}function N(n){k=n,t.HEAP8=j=new Int8Array(n),t.HEAP16=C=new Int16Array(n),t.HEAP32=I=new Int32Array(n),t.HEAPU8=T=new Uint8Array(n),t.HEAPU16=new Uint16Array(n),t.HEAPU32=new Uint32Array(n),t.HEAPF32=U=new Float32Array(n),t.HEAPF64=B=new Float64Array(n)}t.INITIAL_MEMORY;var W,G=[],q=[],Z=[];function V(){return R}var J,X,Y=0,$=null,K=null;function Q(n){t.onAbort&&t.onAbort(n),E(n="Aborted("+n+")"),F=!0,n+=". Build with -s ASSERTIONS=1 for more info.";var e=new WebAssembly.RuntimeError(n);throw i(e),e}function tt(t){return t.startsWith("data:application/octet-stream;base64,")}function nt(t){return t.startsWith("file://")}function et(t){try{if(t==J&&b)return new Uint8Array(b);if(u)return u(t);throw"both async and sync fetching of the wasm failed"}catch(t){Q(t)}}function rt(n){for(;n.length>0;){var e=n.shift();if("function"!=typeof e){var r=e.func;"number"==typeof r?void 0===e.arg?it(r)():it(r)(e.arg):r(void 0===e.arg?null:e.arg)}else e(t)}}function it(t){return W.get(t)}t.preloadedImages={},t.preloadedAudios={},tt(J="soundswallower.wasm")||(X=J,J=t.locateFile?t.locateFile(X,v):v+X);var at={buffers:[null,[],[]],printChar:function(t,n){var e=at.buffers[t];0===n||10===n?((1===t?A:E)(O(e,0)),e.length=0):e.push(n)},varargs:void 0,get:function(){return at.varargs+=4,I[at.varargs-4>>2]},getStr:function(t){return P(t)},get64:function(t,n){return t}};function st(t){try{return x.grow(t-k.byteLength+65535>>>16),N(x.buffer),1}catch(t){}}var ot={};function lt(){if(!lt.strings){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"};for(var n in ot)void 0===ot[n]?delete t[n]:t[n]=ot[n];var e=[];for(var n in t)e.push(n+"="+t[n]);lt.strings=e}return lt.strings}var _t,ut={d:function(t,n,e){return at.varargs=e,0},f:function(t,n){},h:function(t,n,e){return at.varargs=e,0},r:function(t,n,e,r){},e:function(t,n,e,r){at.varargs=r},s:function(t,n){},i:function(){return Date.now()},k:function(){throw 1/0},n:function(t,n,e,r,i,a,s,o){return-52},o:function(t,n,e,r,i,a){},t:function(){Q("")},m:function(){return 2147483648},l:function(t){var n,e=T.length,r=2147483648;if((t>>>=0)>r)return!1;for(var i=1;i<=4;i*=2){var a=e*(1+.2/i);if(a=Math.min(a,t+100663296),st(Math.min(r,(n=Math.max(t,a))+(65536-n%65536)%65536)))return!0}return!1},p:function(t,n){var e=0;return lt().forEach((function(r,i){var a=n+e;I[t+4*i>>2]=a,function(t,n,e){for(var r=0;r<t.length;++r)j[n++>>0]=t.charCodeAt(r);j[n>>0]=0}(r,a),e+=r.length+1})),0},q:function(t,n){var e=lt();I[t>>2]=e.length;var r=0;return e.forEach((function(t){r+=t.length+1})),I[n>>2]=r,0},a:function(n){!function(n,e){var r;r=n,V()||(t.onExit&&t.onExit(r),F=!0),h(r,new dt(r))}(n)},b:function(t){return 0},g:function(t,n,e,r){var i=at.getStreamFromFD(t),a=at.doReadv(i,n,e);return I[r>>2]=a,0},j:function(t,n,e,r,i){},c:function(t,n,e,r){for(var i=0,a=0;a<e;a++){var s=I[n>>2],o=I[n+4>>2];n+=8;for(var l=0;l<o;l++)at.printChar(t,T[s+l]);i+=o}return I[r>>2]=i,0}},ft=(function(){var n={a:ut};function e(n,e){var r,i=n.exports;t.asm=i,N((x=t.asm.u).buffer),W=t.asm.F,r=t.asm.v,q.unshift(r),function(n){if(Y--,t.monitorRunDependencies&&t.monitorRunDependencies(Y),0==Y&&(null!==$&&(clearInterval($),$=null),K)){var e=K;K=null,e()}}()}function r(t){e(t.instance)}function a(t){return function(){if(!b&&(y||w)){if("function"==typeof fetch&&!nt(J))return fetch(J,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+J+"'";return t.arrayBuffer()})).catch((function(){return et(J)}));if(_)return new Promise((function(t,n){_(J,(function(n){t(new Uint8Array(n))}),n)}))}return Promise.resolve().then((function(){return et(J)}))}().then((function(t){return WebAssembly.instantiate(t,n)})).then((function(t){return t})).then(t,(function(t){E("failed to asynchronously prepare wasm: "+t),Q(t)}))}if(Y++,t.monitorRunDependencies&&t.monitorRunDependencies(Y),t.instantiateWasm)try{return t.instantiateWasm(n,e)}catch(t){return E("Module.instantiateWasm callback failed with error: "+t),!1}(b||"function"!=typeof WebAssembly.instantiateStreaming||tt(J)||nt(J)||"function"!=typeof fetch?a(r):fetch(J,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,n).then(r,(function(t){return E("wasm streaming compile failed: "+t),E("falling back to ArrayBuffer instantiation"),a(r)}))}))).catch(i)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.v).apply(null,arguments)},t._fsg_set_states=function(){return(t._fsg_set_states=t.asm.w).apply(null,arguments)},t._cmd_ln_hash_iter=function(){return(t._cmd_ln_hash_iter=t.asm.x).apply(null,arguments)},t._hash_iter_key=function(){return(t._hash_iter_key=t.asm.y).apply(null,arguments)},t._set_mdef=function(){return(t._set_mdef=t.asm.z).apply(null,arguments)},t._set_tmat=function(){return(t._set_tmat=t.asm.A).apply(null,arguments)},t._load_gmm=function(){return(t._load_gmm=t.asm.B).apply(null,arguments)},t._ptm_mgau_init_s3file=function(){return(t._ptm_mgau_init_s3file=t.asm.C).apply(null,arguments)},t._s2_semi_mgau_init_s3file=function(){return(t._s2_semi_mgau_init_s3file=t.asm.D).apply(null,arguments)},t._ms_mgau_init_s3file=function(){return(t._ms_mgau_init_s3file=t.asm.E).apply(null,arguments)},t._cmd_ln_str_r=function(){return(t._cmd_ln_str_r=t.asm.G).apply(null,arguments)},t._cmd_ln_float_r=function(){return(t._cmd_ln_float_r=t.asm.H).apply(null,arguments)},t._cmd_ln_int_r=function(){return(t._cmd_ln_int_r=t.asm.I).apply(null,arguments)},t._cmd_ln_retain=function(){return(t._cmd_ln_retain=t.asm.J).apply(null,arguments)},t._logmath_retain=function(){return(t._logmath_retain=t.asm.K).apply(null,arguments)},t._cmd_ln_free_r=function(){return(t._cmd_ln_free_r=t.asm.L).apply(null,arguments)},t._logmath_free=function(){return(t._logmath_free=t.asm.M).apply(null,arguments)},t._s3file_free=function(){return(t._s3file_free=t.asm.N).apply(null,arguments)},t._bin_mdef_read_s3file=function(){return(t._bin_mdef_read_s3file=t.asm.O).apply(null,arguments)},t._malloc=function(){return(t._malloc=t.asm.P).apply(null,arguments)},t._free=function(){return(t._free=t.asm.Q).apply(null,arguments)},t._cmd_ln_parse_r=function(){return(t._cmd_ln_parse_r=t.asm.R).apply(null,arguments)},t._cmd_ln_init=function(){return(t._cmd_ln_init=t.asm.S).apply(null,arguments)},t._cmd_ln_exists_r=function(){return(t._cmd_ln_exists_r=t.asm.T).apply(null,arguments)},t._cmd_ln_type_r=function(){return(t._cmd_ln_type_r=t.asm.U).apply(null,arguments)},t._cmd_ln_set_str_r=function(){return(t._cmd_ln_set_str_r=t.asm.V).apply(null,arguments)},t._cmd_ln_set_int_r=function(){return(t._cmd_ln_set_int_r=t.asm.W).apply(null,arguments)},t._cmd_ln_set_float_r=function(){return(t._cmd_ln_set_float_r=t.asm.X).apply(null,arguments)},t._fsg_model_trans_add=function(){return(t._fsg_model_trans_add=t.asm.Y).apply(null,arguments)},t._fsg_model_tag_trans_add=function(){return(t._fsg_model_tag_trans_add=t.asm.Z).apply(null,arguments)},t._fsg_model_null_trans_add=function(){return(t._fsg_model_null_trans_add=t.asm._).apply(null,arguments)},t._hash_table_iter_next=function(){return(t._hash_table_iter_next=t.asm.$).apply(null,arguments)},t._fsg_model_word_id=function(){return(t._fsg_model_word_id=t.asm.aa).apply(null,arguments)},t._fsg_model_word_add=function(){return(t._fsg_model_word_add=t.asm.ba).apply(null,arguments)},t._logmath_log=function(){return(t._logmath_log=t.asm.ca).apply(null,arguments)},t._fsg_model_init=function(){return(t._fsg_model_init=t.asm.da).apply(null,arguments)},t._fsg_model_free=function(){return(t._fsg_model_free=t.asm.ea).apply(null,arguments)},t._fsg_model_retain=function(){return(t._fsg_model_retain=t.asm.fa).apply(null,arguments)},t._logmath_exp=function(){return(t._logmath_exp=t.asm.ga).apply(null,arguments)},t._jsgf_grammar_free=function(){return(t._jsgf_grammar_free=t.asm.ha).apply(null,arguments)},t._jsgf_get_rule=function(){return(t._jsgf_get_rule=t.asm.ia).apply(null,arguments)},t._jsgf_get_public_rule=function(){return(t._jsgf_get_public_rule=t.asm.ja).apply(null,arguments)},t._jsgf_build_fsg=function(){return(t._jsgf_build_fsg=t.asm.ka).apply(null,arguments)},t._jsgf_parse_string=function(){return(t._jsgf_parse_string=t.asm.la).apply(null,arguments)},t._logmath_init=function(){return(t._logmath_init=t.asm.ma).apply(null,arguments)},t._ps_init_config=function(){return(t._ps_init_config=t.asm.na).apply(null,arguments)},t._ps_args=function(){return(t._ps_args=t.asm.oa).apply(null,arguments)},t._ps_init_cleanup=function(){return(t._ps_init_cleanup=t.asm.pa).apply(null,arguments)},t._ps_init_fe=function(){return(t._ps_init_fe=t.asm.qa).apply(null,arguments)},t._ps_init_feat_s3file=function(){return(t._ps_init_feat_s3file=t.asm.ra).apply(null,arguments)},t._ps_init_acmod_pre=function(){return(t._ps_init_acmod_pre=t.asm.sa).apply(null,arguments)},t._ps_init_acmod_post=function(){return(t._ps_init_acmod_post=t.asm.ta).apply(null,arguments)},t._ps_init_dict_s3file=function(){return(t._ps_init_dict_s3file=t.asm.ua).apply(null,arguments)},t._ps_set_fsg=function(){return(t._ps_set_fsg=t.asm.va).apply(null,arguments)},t._ps_init_grammar_s3file=function(){return(t._ps_init_grammar_s3file=t.asm.wa).apply(null,arguments)},t._ps_set_jsgf_string=function(){return(t._ps_set_jsgf_string=t.asm.xa).apply(null,arguments)},t._ps_reinit_fe=function(){return(t._ps_reinit_fe=t.asm.ya).apply(null,arguments)},t._ps_reinit=function(){return(t._ps_reinit=t.asm.za).apply(null,arguments)},t._ps_init=function(){return(t._ps_init=t.asm.Aa).apply(null,arguments)},t._ps_free=function(){return(t._ps_free=t.asm.Ba).apply(null,arguments)},t._ps_retain=function(){return(t._ps_retain=t.asm.Ca).apply(null,arguments)},t._ps_get_config=function(){return(t._ps_get_config=t.asm.Da).apply(null,arguments)},t._ps_get_logmath=function(){return(t._ps_get_logmath=t.asm.Ea).apply(null,arguments)},t._ps_add_word=function(){return(t._ps_add_word=t.asm.Fa).apply(null,arguments)},t._ps_lookup_word=function(){return(t._ps_lookup_word=t.asm.Ga).apply(null,arguments)},t._ps_start_utt=function(){return(t._ps_start_utt=t.asm.Ha).apply(null,arguments)},t._ps_process_float32=function(){return(t._ps_process_float32=t.asm.Ia).apply(null,arguments)},t._ps_end_utt=function(){return(t._ps_end_utt=t.asm.Ja).apply(null,arguments)},t._ps_get_hyp=function(){return(t._ps_get_hyp=t.asm.Ka).apply(null,arguments)},t._ps_seg_iter=function(){return(t._ps_seg_iter=t.asm.La).apply(null,arguments)},t._ps_seg_word=function(){return(t._ps_seg_word=t.asm.Ma).apply(null,arguments)},t._ps_seg_frames=function(){return(t._ps_seg_frames=t.asm.Na).apply(null,arguments)},t._ps_seg_prob=function(){return(t._ps_seg_prob=t.asm.Oa).apply(null,arguments)},t._ps_seg_next=function(){return(t._ps_seg_next=t.asm.Pa).apply(null,arguments)},t._ps_get_prob=function(){return(t._ps_get_prob=t.asm.Qa).apply(null,arguments)},t._ps_seg_free=function(){return(t._ps_seg_free=t.asm.Ra).apply(null,arguments)},t._s3file_init=function(){return(t._s3file_init=t.asm.Sa).apply(null,arguments)},t._tmat_init_s3file=function(){return(t._tmat_init_s3file=t.asm.Ta).apply(null,arguments)},t.stackSave=function(){return(ft=t.stackSave=t.asm.Ua).apply(null,arguments)}),ct=t.stackRestore=function(){return(ct=t.stackRestore=t.asm.Va).apply(null,arguments)},pt=t.stackAlloc=function(){return(pt=t.stackAlloc=t.asm.Wa).apply(null,arguments)};function dt(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function mt(e){function r(){_t||(_t=!0,t.calledRun=!0,F||(rt(q),n(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),function(){if(t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;)n=t.postRun.shift(),Z.unshift(n);var n;rt(Z)}()))}e=e||m,Y>0||(function(){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)n=t.preRun.shift(),G.unshift(n);var n;rt(G)}(),Y>0||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),r()}),1)):r()))}if(K=function t(){_t||mt(),_t||(K=t)},t.run=mt,t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return mt(),t.ready});t.exports=i},762:()=>{},299:()=>{},395:()=>{}},n={};function e(r){var i=n[r];if(void 0!==i)return i.exports;var a=n[r]={exports:{}};return t[r].call(a.exports,a,a.exports,e),a.exports}e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";const t=e(433),n=e(364);var r;function i(t){r.innerHTML=t}e(179),e(985),window.addEventListener("load",(async function(){r=document.getElementById("status-bar");const e=document.getElementById("text-input"),o=document.getElementById("aligned-text"),l=document.getElementById("file-input"),_=document.getElementById("file-play");l.addEventListener("change",(async()=>{const n=l.files[0];_.src=URL.createObjectURL(n);let e=await t(n);a={sampleRate:e.sampleRate,channelData:[e.getChannelData(0)]}}));let u=null;e.addEventListener("input",(()=>{clearTimeout(u),u=setTimeout((async function t(){if(null!==n&&s)if(null===a)i("Please select a WAV file to align"),setTimeout(t,500);else{i("Aligning: "+e.value);try{const t=await n.align(a,e.value);console.log(t),o.innerHTML="";for(const n in t){const e=document.createElement("span");e.textContent=t[n].word,e.className="segment pure-button",e.title="("+t[n].start+":"+t[n].end+")",e.addEventListener("click",(async()=>{const e=t[n].end-t[n].start;_.currentTime=t[n].start,await _.play(),setTimeout((()=>{_.pause()}),1e3*e)})),o.appendChild(e),n!=t.length-1&&o.append(document.createTextNode(" "))}}catch(t){i("Error aligning: "+t.message)}}else i("Waiting for speech recognition..."),setTimeout(t,500)}),500)}));try{await n.initialize({hmm:"model/en-us",loglevel:"INFO"}),i("Speech recognition ready"),s=!0}catch(t){i("Error initializing speech aligner: "+t.message)}}));var a=null,s=!1})()})();